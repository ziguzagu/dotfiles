## -*- mode: conf -*-
[user]
name = ziguzagu
email = ziguzagu@gmail.com

[color]
ui = auto

[color "diff"]
meta = 248 italic
frag = 117 italic
func = 183 no-bold italic
new  = 148
old  = 210
whitespace = white bold reverse

[color "diff-highlight"]
newNormal    = 148 no-bold
newHighlight = 148 22 no-bold
oldNormal    = 210 no-bold
oldHighlight = 210 52 no-bold

[color "status"]
updated   = 148
changed   = 210
untracked = 75

[color "branch"]
current  = 148
local    = 255
remote   = 110
upstream = 183
plain    = 248

[color "grep"]
filename   = 251 238 italic
linenumber = 117 no-bold
separator  = 117 no-bold
function   = 183 no-bold italic
match      = 214 ul

[core]
excludesfile = ~/.gitignore
whitespace   = trailing-space
pager        = diff-so-fancy | less -FX

# https://help.github.com/en/github/using-git/caching-your-github-password-in-git
[credential]
helper = osxkeychain

[diff]
indentHeuristic = true

[grep]
patternType = perl

[commit]
verbose = true

[diff-so-fancy]
stripLeadingSymbols = false

# XXX: git 2.17.0 doens't work well with this.
# see https://github.com/so-fancy/diff-so-fancy/issues/35
# [interactive]
# diffFilter = diff-so-fancy

[alias]
up = !git pull --rebase && git submodule update --init --recursive
di = diff
dc = diff --cached
ci = commit -v
st = status -s
co = checkout
pick = cherry-pick
br = branch
sw = switch
cs = ci-status -v
discard = restore
amend = ci --amend --no-edit
unstage = reset HEAD --
uncommit = reset HEAD~
last = log -1 HEAD
url = config --get remote.origin.url
publish = !git push -u origin $(git current-branch)
unpublish = !git push origin :$(git current-branch)
upstream = !git rev-parse --abbrev-ref --symbolic-full-name @{u} 2>/dev/null
s = grep --heading --break --line-number --color --show-function
current-branch = branch --show-current
default-branch = !basename $(git symbolic-ref --short refs/remotes/origin/HEAD)
prune-branches = !git branch --merged | grep -v '\\* ' | xargs -n 1 git branch -d

[push]
default = current

[rebase]
autostash = true

[fetch]
prune = true

[checkout]
defaultRemote = origin

[ghq]
root = ~/src

[filter "hawser"]
clean = git hawser clean %f
smudge = git hawser smudge %f
required = true

[filter "lfs"]
clean = git lfs clean %f
smudge = git lfs smudge %f
required = true
