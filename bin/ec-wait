#!/bin/sh

server=~/.emacs.d/emacs-server-window
client=~/.emacs.d/emacs-client-window

if [ -n "$TMUX" ]; then
    tmux display -p '#I' > $client
    tmux select-window -t `cat $server`
elif [ -n "$WINDOW" ]; then
    echo $WINDOW > $client
    screen -X select `cat $server`
fi

## emacsclient of emacs 24.2 via homebrew doens't get default socket file path...
if [ -n "$TMPDIR" ]; then
    emacsclient -s $TMPDIR/emacs`id -u`/server $*
else
    emacsclient $*
fi
